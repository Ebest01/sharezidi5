#!/bin/bash
set -e

echo "ğŸ”§ ShareZidi Custom Build Script Starting..."

# Install dependencies first
npm ci

# Use our custom build script
echo "ğŸ“¦ Running custom build with MongoDB externals..."
chmod +x build-production.sh
./build-production.sh

echo "âœ… Custom build completed successfully!"
echo "ğŸ“‹ Build files:"
ls -la dist/
echo "ğŸ“ Server bundle size:"
wc -c dist/prod-server.js